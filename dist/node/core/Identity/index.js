'use strict';var a8_0x4748=['INVALID_DID_ERROR','819320FAdSkQ','__generator','219623RYnLbN','685321HMkUNy','call','INVALID_DOCUMENT','8UDYuhU','extract','__esModule','publicKey','216455hcsogt','done','584267pBMxhO','extractAuthenticationKeys','Generator\x20is\x20already\x20executing.','ethrDidResolver','./commons','iterator','trys','sent','isResolved','DOCUMENT_RESOLUTION_ERROR','5nBqEHM','defineProperty','function','506975fFnTaG','length','setDocument','keySet','next','DidVerificationKeyExtractor','return','value','then','resolve','getDocument','doc','label','push','ops','uniExtractor','Identity','authentication','ERRORS','./key-extractors','1qRuorN','37273bTKIly','prototype','pop','string'];var a8_0x1226=function(_0x509870,_0x3aedb9){_0x509870=_0x509870-0xff;var _0x4748f1=a8_0x4748[_0x509870];return _0x4748f1;};var a8_0x8b0e52=a8_0x1226;(function(_0x5eb965,_0x5c9959){var _0x940603=a8_0x1226;while(!![]){try{var _0x204a21=parseInt(_0x940603(0x10e))+-parseInt(_0x940603(0x10d))+parseInt(_0x940603(0x117))+parseInt(_0x940603(0x111))*parseInt(_0x940603(0x106))+parseInt(_0x940603(0x10b))+-parseInt(_0x940603(0x105))*parseInt(_0x940603(0x124))+-parseInt(_0x940603(0x121))*parseInt(_0x940603(0x115));if(_0x204a21===_0x5c9959)break;else _0x5eb965['push'](_0x5eb965['shift']());}catch(_0x33ff5d){_0x5eb965['push'](_0x5eb965['shift']());}}}(a8_0x4748,0x8d2ab));var __awaiter=this&&this['__awaiter']||function(_0x4f7910,_0x5e13ce,_0x43b95e,_0x3e3910){function _0x697051(_0x55ab11){return _0x55ab11 instanceof _0x43b95e?_0x55ab11:new _0x43b95e(function(_0x15b36b){_0x15b36b(_0x55ab11);});}return new(_0x43b95e||(_0x43b95e=Promise))(function(_0x29d22d,_0x1ca476){var _0x287e3d=a8_0x1226;function _0x49c340(_0x178e02){var _0x5c3090=a8_0x1226;try{_0x221b57(_0x3e3910[_0x5c3090(0x128)](_0x178e02));}catch(_0x5776f5){_0x1ca476(_0x5776f5);}}function _0x32ee62(_0x201162){try{_0x221b57(_0x3e3910['throw'](_0x201162));}catch(_0x58f7ce){_0x1ca476(_0x58f7ce);}}function _0x221b57(_0x163e2a){var _0x10ce40=a8_0x1226;_0x163e2a[_0x10ce40(0x116)]?_0x29d22d(_0x163e2a[_0x10ce40(0x12b)]):_0x697051(_0x163e2a[_0x10ce40(0x12b)])[_0x10ce40(0x12c)](_0x49c340,_0x32ee62);}_0x221b57((_0x3e3910=_0x3e3910['apply'](_0x4f7910,_0x5e13ce||[]))[_0x287e3d(0x128)]());});},__generator=this&&this[a8_0x8b0e52(0x10c)]||function(_0x3a0678,_0x4dcc73){var _0x42d8c6=a8_0x8b0e52,_0x715092={'label':0x0,'sent':function(){if(_0xfcb563[0x0]&0x1)throw _0xfcb563[0x1];return _0xfcb563[0x1];},'trys':[],'ops':[]},_0x3430eb,_0x24d7fb,_0xfcb563,_0x439b64;return _0x439b64={'next':_0xc14cd6(0x0),'throw':_0xc14cd6(0x1),'return':_0xc14cd6(0x2)},typeof Symbol===_0x42d8c6(0x123)&&(_0x439b64[Symbol[_0x42d8c6(0x11c)]]=function(){return this;}),_0x439b64;function _0xc14cd6(_0xfffe49){return function(_0x49d782){return _0x3657eb([_0xfffe49,_0x49d782]);};}function _0x3657eb(_0xf7f494){var _0x18492e=_0x42d8c6;if(_0x3430eb)throw new TypeError(_0x18492e(0x119));while(_0x715092)try{if(_0x3430eb=0x1,_0x24d7fb&&(_0xfcb563=_0xf7f494[0x0]&0x2?_0x24d7fb[_0x18492e(0x12a)]:_0xf7f494[0x0]?_0x24d7fb['throw']||((_0xfcb563=_0x24d7fb[_0x18492e(0x12a)])&&_0xfcb563[_0x18492e(0x10f)](_0x24d7fb),0x0):_0x24d7fb[_0x18492e(0x128)])&&!(_0xfcb563=_0xfcb563[_0x18492e(0x10f)](_0x24d7fb,_0xf7f494[0x1]))[_0x18492e(0x116)])return _0xfcb563;if(_0x24d7fb=0x0,_0xfcb563)_0xf7f494=[_0xf7f494[0x0]&0x2,_0xfcb563[_0x18492e(0x12b)]];switch(_0xf7f494[0x0]){case 0x0:case 0x1:_0xfcb563=_0xf7f494;break;case 0x4:_0x715092[_0x18492e(0x130)]++;return{'value':_0xf7f494[0x1],'done':![]};case 0x5:_0x715092[_0x18492e(0x130)]++,_0x24d7fb=_0xf7f494[0x1],_0xf7f494=[0x0];continue;case 0x7:_0xf7f494=_0x715092[_0x18492e(0xff)][_0x18492e(0x108)](),_0x715092[_0x18492e(0x11d)]['pop']();continue;default:if(!(_0xfcb563=_0x715092[_0x18492e(0x11d)],_0xfcb563=_0xfcb563[_0x18492e(0x125)]>0x0&&_0xfcb563[_0xfcb563['length']-0x1])&&(_0xf7f494[0x0]===0x6||_0xf7f494[0x0]===0x2)){_0x715092=0x0;continue;}if(_0xf7f494[0x0]===0x3&&(!_0xfcb563||_0xf7f494[0x1]>_0xfcb563[0x0]&&_0xf7f494[0x1]<_0xfcb563[0x3])){_0x715092[_0x18492e(0x130)]=_0xf7f494[0x1];break;}if(_0xf7f494[0x0]===0x6&&_0x715092[_0x18492e(0x130)]<_0xfcb563[0x1]){_0x715092[_0x18492e(0x130)]=_0xfcb563[0x1],_0xfcb563=_0xf7f494;break;}if(_0xfcb563&&_0x715092[_0x18492e(0x130)]<_0xfcb563[0x2]){_0x715092['label']=_0xfcb563[0x2],_0x715092[_0x18492e(0xff)][_0x18492e(0x131)](_0xf7f494);break;}if(_0xfcb563[0x2])_0x715092[_0x18492e(0xff)]['pop']();_0x715092[_0x18492e(0x11d)]['pop']();continue;}_0xf7f494=_0x4dcc73[_0x18492e(0x10f)](_0x3a0678,_0x715092);}catch(_0x432172){_0xf7f494=[0x6,_0x432172],_0x24d7fb=0x0;}finally{_0x3430eb=_0xfcb563=0x0;}if(_0xf7f494[0x0]&0x5)throw _0xf7f494[0x1];return{'value':_0xf7f494[0x0]?_0xf7f494[0x1]:void 0x0,'done':!![]};}};Object['defineProperty'](exports,a8_0x8b0e52(0x113),{'value':!![]}),exports[a8_0x8b0e52(0x101)]=void 0x0;var commons_1=require(a8_0x8b0e52(0x11b)),key_extractors_1=require(a8_0x8b0e52(0x104)),resolvers_1=require('./resolvers'),Identity=function(){var _0xb992dc=a8_0x8b0e52;function _0x2f21ef(){var _0x8211f=a8_0x1226;this[_0x8211f(0x12f)]={'@context':'','id':'','authentication':[]},this[_0x8211f(0x127)]=[];}return _0x2f21ef['prototype'][_0xb992dc(0x12d)]=function(_0x385729){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d56b1,_0x4a6bfd;return __generator(this,function(_0x3762d1){var _0x2d2bc9=a8_0x1226;switch(_0x3762d1[_0x2d2bc9(0x130)]){case 0x0:_0x3762d1[_0x2d2bc9(0x11d)][_0x2d2bc9(0x131)]([0x0,0x2,,0x3]);return[0x4,resolvers_1[_0x2d2bc9(0x11a)][_0x2d2bc9(0x12d)](_0x385729)];case 0x1:_0x5d56b1=_0x3762d1[_0x2d2bc9(0x11e)]();return[0x3,0x3];case 0x2:_0x4a6bfd=_0x3762d1[_0x2d2bc9(0x11e)]();throw new Error(commons_1[_0x2d2bc9(0x103)][_0x2d2bc9(0x120)]);case 0x3:if(_0x5d56b1&&_0x5d56b1['id']==_0x385729&&_0x5d56b1[_0x2d2bc9(0x102)]&&_0x5d56b1[_0x2d2bc9(0x102)][_0x2d2bc9(0x125)]>0x0)return this['doc']=_0x5d56b1,this[_0x2d2bc9(0x127)]=[],[0x2,this[_0x2d2bc9(0x12f)]['id']];throw new Error(commons_1[_0x2d2bc9(0x103)][_0x2d2bc9(0x10a)]);}});});},_0x2f21ef[_0xb992dc(0x107)][_0xb992dc(0x11f)]=function(){var _0x5d4de9=_0xb992dc;return this[_0x5d4de9(0x12f)]['id']!=='';},_0x2f21ef[_0xb992dc(0x107)][_0xb992dc(0x118)]=function(_0x24037a){var _0x406aab=_0xb992dc;if(!_0x24037a)_0x24037a=key_extractors_1['uniExtractor'];if(!this[_0x406aab(0x11f)]())throw new Error(commons_1[_0x406aab(0x103)]['UNRESOLVED_DOCUMENT']);if(this['keySet'][_0x406aab(0x125)]===0x0)for(var _0x19b555=0x0,_0x4a311f=this[_0x406aab(0x12f)][_0x406aab(0x102)];_0x19b555<_0x4a311f[_0x406aab(0x125)];_0x19b555++){var _0xeff4f9=_0x4a311f[_0x19b555];if(_0xeff4f9['id']&&_0xeff4f9['type'])try{this[_0x406aab(0x127)]['push'](_0x24037a[_0x406aab(0x112)](_0xeff4f9));}catch(_0x1d5cfd){continue;}if(_0xeff4f9[_0x406aab(0x114)]){if(typeof _0xeff4f9[_0x406aab(0x114)]===_0x406aab(0x109))for(var _0x565b3f=0x0,_0x40d166=this['doc'][_0x406aab(0x114)];_0x565b3f<_0x40d166[_0x406aab(0x125)];_0x565b3f++){var _0x511bd4=_0x40d166[_0x565b3f];if(_0x511bd4['id']===_0xeff4f9[_0x406aab(0x114)]||_0x511bd4['id']===this[_0x406aab(0x12f)]['id']+_0xeff4f9['publicKey'])try{this[_0x406aab(0x127)]['push'](_0x24037a[_0x406aab(0x112)](_0x511bd4));}catch(_0x1acc5d){continue;}}else for(var _0x5660aa=0x0,_0x33c22f=_0xeff4f9[_0x406aab(0x114)];_0x5660aa<_0x33c22f[_0x406aab(0x125)];_0x5660aa++){var _0x3483e4=_0x33c22f[_0x5660aa];for(var _0x514f66=0x0,_0x37771e=this[_0x406aab(0x12f)][_0x406aab(0x114)];_0x514f66<_0x37771e[_0x406aab(0x125)];_0x514f66++){var _0x511bd4=_0x37771e[_0x514f66];if(_0x511bd4['id']===_0x3483e4||_0x511bd4['id']===this['doc']['id']+_0x3483e4)try{this[_0x406aab(0x127)][_0x406aab(0x131)](_0x24037a['extract'](_0x511bd4));}catch(_0x25bb16){continue;}}}}if(typeof _0xeff4f9===_0x406aab(0x109))for(var _0x2eb7d8=0x0,_0x3c33ed=this[_0x406aab(0x12f)][_0x406aab(0x114)];_0x2eb7d8<_0x3c33ed[_0x406aab(0x125)];_0x2eb7d8++){var _0x511bd4=_0x3c33ed[_0x2eb7d8];if(_0x511bd4['id']===_0xeff4f9)try{this['keySet']['push'](_0x24037a['extract'](_0x511bd4));}catch(_0x279417){continue;}}}return this[_0x406aab(0x127)];},_0x2f21ef[_0xb992dc(0x107)][_0xb992dc(0x12e)]=function(){var _0x29c9d4=_0xb992dc;return this[_0x29c9d4(0x12f)];},_0x2f21ef[_0xb992dc(0x107)][_0xb992dc(0x126)]=function(_0x350996,_0x3656f1){var _0x3b6a88=_0xb992dc;if(_0x350996['id']==_0x3656f1&&_0x350996[_0x3b6a88(0x102)]&&_0x350996[_0x3b6a88(0x102)][_0x3b6a88(0x125)]>0x0)this[_0x3b6a88(0x12f)]=_0x350996;else throw new Error(commons_1[_0x3b6a88(0x103)][_0x3b6a88(0x110)]);},_0x2f21ef;}();exports[a8_0x8b0e52(0x101)]=Identity;var commons_2=require(a8_0x8b0e52(0x11b));Object[a8_0x8b0e52(0x122)](exports,'ERRORS',{'enumerable':!![],'get':function(){var _0x4e009f=a8_0x8b0e52;return commons_2[_0x4e009f(0x103)];}});var key_extractors_2=require(a8_0x8b0e52(0x104));Object[a8_0x8b0e52(0x122)](exports,a8_0x8b0e52(0x129),{'enumerable':!![],'get':function(){var _0x511f71=a8_0x8b0e52;return key_extractors_2[_0x511f71(0x129)];}}),Object[a8_0x8b0e52(0x122)](exports,a8_0x8b0e52(0x100),{'enumerable':!![],'get':function(){return key_extractors_2['uniExtractor'];}});